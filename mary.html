<!DOCTYPE html>
<html>
<head>
  <title>Dominic Dashboard</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

<h2>Mary Dashboard</h2>
<div style="margin-bottom:20px;">
  <button onclick="goTeamDashboard()" style="padding:8px 12px; margin-right:10px;">Team Dashboard</button>
  <button onclick="logout()" style="padding:8px 12px;">Logout</button>
</div>

<script>
function goTeamDashboard(){
  window.location.href = "team-dashboard.html";
}

function logout(){
  localStorage.removeItem("loggedInUser");
  window.location.href = "index.html";
}
</script>

<div id="tasks"></div>

<h3>Submit Work</h3>
<input id="submission" placeholder="Paste your work or file name">
<button onclick="submit()">Submit</button>

<script>
let user = "mary";

function load(){
  let tasks = JSON.parse(localStorage.getItem("tasks") || "[]");
  let box = document.getElementById("tasks");
  box.innerHTML = "";

  tasks.forEach((t,index)=>{
    if(t.person === user){
      box.innerHTML += `
        <p>${t.title} - ${t.status}
        <button onclick="done(${index})">Mark Done</button></p>
      `;
    }
  });
}

function done(index){
  let tasks = JSON.parse(localStorage.getItem("tasks"));
  tasks[index].status = "Done";
  localStorage.setItem("tasks", JSON.stringify(tasks));
  load();
}

function submit(){
  alert("Submitted to system (locally stored)");
}

load();
</script>

</body>
</html>
